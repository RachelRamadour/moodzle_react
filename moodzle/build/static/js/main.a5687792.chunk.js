(this.webpackJsonpmoodzle=this.webpackJsonpmoodzle||[]).push([[0],{195:function(e,t,a){},270:function(e,t,a){},381:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(34),r=a.n(n),o=(a(270),a(195),a(38)),i=a.n(o),l=a(54),u=a(25),j=a(398),d=a(64),b=a(37),p=a(43),h=a(3);var x=Object(p.b)((function(e){return{pseudo:e.pseudo,token:e.token}}),(function(e){return{onSubmitPseudo:function(t){e({type:"savePseudo",pseudo:t})},addToken:function(t){e({type:"addToken",token:t})}}}))((function(e){var t=Object(s.useState)(""),a=Object(u.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(""),o=Object(u.a)(r,2),p=o[0],x=o[1],m=Object(s.useState)(""),O=Object(u.a)(m,2),f=O[0],y=O[1],k=Object(s.useState)(""),g=Object(u.a)(k,2),v=g[0],N=g[1],w=Object(s.useState)(""),C=Object(u.a)(w,2),S=C[0],F=C[1],z=function(){var t=Object(l.a)(i.a.mark((function t(){var a,s,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(c,f,v),t.next=4,fetch("/sign-up",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"username=".concat(c,"&email=").concat(f,"&password=").concat(v)});case 4:return a=t.sent,t.next=7,a.json();case 7:s=t.sent,n=s.token,r=s.saveUser.username,!0===s.result&&(e.addToken(n),e.onSubmitPseudo(r)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),alert("Cet utilisateur existe d\xe9j\xe0! veuillez utiliser une autre adresse ou un pseudo diff\xe9rent."),console.log("something went wrong with sign-up process");case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(l.a)(i.a.mark((function t(){var a,s,c,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/sign-in",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"email=".concat(p,"&password=").concat(S)});case 3:return a=t.sent,t.next=6,a.json();case 6:!0===(s=t.sent).result?(c=s.username,n=s.token,e.addToken(n),e.onSubmitPseudo(c)):alert("Cet utilisateur n'existe pas! Adresse ou mot de passe incorrect. Si vous n'avez pas de compte veuillez en cr\xe9er un."),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("something went wrong with sign-in process");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return e.token?Object(h.jsx)(b.a,{to:"/today"}):Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("img",{src:"./images/moodz_logo.png",className:"logo",alt:"mascotte paresseux sur un podium"}),Object(h.jsxs)("div",{xs:"auto",className:"Login-page",children:[Object(h.jsxs)("div",{className:"Sign ",children:[Object(h.jsx)(j.a,{className:"Login-input",placeholder:"email",onChange:function(e){return x(e.target.value)},value:p}),Object(h.jsx)(j.a.Password,{className:"Login-input",placeholder:"password",onChange:function(e){return F(e.target.value)},value:S}),Object(h.jsx)(d.a,{className:"button",type:"primary",onClick:function(){return D()},children:"Se connecter"})]}),Object(h.jsxs)("div",{className:"Sign",children:[Object(h.jsx)(j.a,{className:"Login-input",placeholder:"pseudo",onChange:function(e){return n(e.target.value)},value:c}),Object(h.jsx)(j.a,{className:"Login-input",placeholder:"email",onChange:function(e){return y(e.target.value)},value:f}),Object(h.jsx)(j.a.Password,{className:"Login-input",placeholder:"password",onChange:function(e){return N(e.target.value)},value:v}),Object(h.jsx)(d.a,{className:"button",type:"primary",onClick:function(){return z()},children:"S'inscrire"})]})]})]})})),m=a(388),O=a(389),f=a(390),y=a(401),k=a(402),g=a(409),v=a(406),N=a(404),w=a(397),C=a(403),S=a(407),F=a(42),z=a(28),D=a(31);var T=Object(p.b)(null,(function(e){return{logout:function(){e({type:"deconnexion"})},modifyPseudo:function(t){e({type:"modify-pseudo",newPseudo:t})}}}))((function(e){var t=Object(h.jsxs)(w.a,{className:"navcolumn",children:[Object(h.jsx)(w.a.Item,{children:Object(h.jsx)(F.b,{to:"/week",children:"Hebdomadaires"})},"week"),Object(h.jsx)(w.a.Item,{children:Object(h.jsx)(F.b,{to:"/month",children:"Mensuelles"})},"month"),Object(h.jsx)(w.a.Item,{children:Object(h.jsx)(F.b,{to:"/year",children:"Annuelles"})},"year")]});return Object(h.jsx)("nav",{style:{width:"100%"},children:Object(h.jsxs)(w.a,{className:"navbar",mode:"horizontal",theme:"light",children:[Object(h.jsx)(F.b,{to:"/settings",children:Object(h.jsx)(w.a.Item,{children:Object(h.jsx)(z.a,{className:"icon-today",icon:D.f,size:"1x",style:{color:"#5b63ae",marginTop:16,marginRight:0}})},"profil")}),Object(h.jsx)(F.b,{to:"/today",children:Object(h.jsx)(w.a.Item,{children:"Aujourd'hui"},"today")}),Object(h.jsx)(C.a,{overlay:t,trigger:["click"],children:Object(h.jsxs)(F.b,{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},children:["Statistiques",Object(h.jsx)(S.a,{})]})}),Object(h.jsx)(F.b,{onClick:function(){e.logout()},to:"/",children:Object(h.jsx)(w.a.Item,{children:"D\xe9connexion"},"deconnexion")})]})})}));var P=Object(p.b)((function(e){return{pseudo:e.pseudo,token:e.token}}),null)((function(e){var t=Object(s.useState)([0,0,0,0,0,0,0]),a=Object(u.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)([]),o=Object(u.a)(r,2),j=o[0],d=o[1],p=Object(s.useState)((new Date).toISOString().substring(0,10)),x=Object(u.a)(p,2),w=x[0];x[1],Object(s.useEffect)((function(){e.token&&C()}),[w]);for(var C=function(){var t=Object(l.a)(i.a.mark((function t(){var a,s,c,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/history",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"startdate=".concat(w,"&type=week&token=").concat(e.token)});case 2:return a=t.sent,t.next=5,a.json();case 5:for(s=t.sent,c=s.history,console.log("data",c),r=[],o=0;o<7;o++)void 0===c[o]||void 0===c[o].mood_score?r.push(1):r.push(parseInt(c[o].mood_score));n(r),A(c);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=["lun","mar","mer","jeu","ven","sam","dim"],F=[],P=0;P<7;P++)F.push({x:S[P],y:c[P]});var A=function(e){for(var t=0,a=0,s=0,c=0,n=0,r=0;r<e.length;r++)switch(e[r].mood_score){case 1:t+=1;break;case 2:a+=1;break;case 3:s+=1;break;case 4:c+=1;break;case 5:n+=1}d([{x:1,y:t},{x:2,y:a},{x:3,y:s},{x:4,y:c},{x:5,y:n}])};return e.token?Object(h.jsxs)("div",{className:"App",style:{backgroundColor:"#CEFFEB"},children:[Object(h.jsx)(T,{}),Object(h.jsx)("h1",{children:"Les moodz hebdos"}),Object(h.jsxs)(m.a,{className:"card",children:[Object(h.jsx)(O.a,{className:"cardTitle",children:"Variation de tes humeurs"}),Object(h.jsxs)(y.a,{margin:5,children:[Object(h.jsx)(k.a,{className:"chart",style:{data:{stroke:"#F0A07E",strokeWidth:1,strokeLinecap:"round"},labels:{fontSize:0,fill:function(e){return 3===e.datum.x?"#000000":"#c43a31"}},parent:{border:"1px solid #ccc"}},activateData:!1,activateLabels:!1,data:F}),Object(h.jsx)(g.a,{style:{axis:{stroke:"transparent"},ticks:{stroke:"transparent"},tickLabels:{fill:"#57706D"}}})]})]}),Object(h.jsxs)(m.a,{className:"card",children:[Object(h.jsx)(O.a,{className:"cardTitle",children:"R\xe9partition de tes humeurs"}),Object(h.jsxs)(y.a,{className:"chart",children:[Object(h.jsx)(v.a,{cornerRadius:function(e){return 5*e.datum.y},data:j,colorScale:["#CD6133","#F0A07E","#F0D231","#44B79D","#54857F"],labelComponent:Object(h.jsx)(N.a,{style:{fill:"transparent"},angle:45})}),Object(h.jsx)(g.a,{style:{axis:{stroke:"transparent"},ticks:{stroke:"transparent"},tickLabels:{fill:"transparent"}}})]}),Object(h.jsxs)(f.a,{children:[Object(h.jsx)(z.a,{className:"icon-today",icon:D.c,size:"2x",style:{color:"#CD6133",margin:2}}),Object(h.jsx)(z.a,{className:"icon-today",icon:D.d,size:"2x",style:{color:"#F0A07E",margin:2}}),Object(h.jsx)(z.a,{className:"icon-today",icon:D.b,size:"2x",style:{color:"#F0D231",margin:2}}),Object(h.jsx)(z.a,{className:"icon-today",icon:D.e,size:"2x",style:{color:"#44B79D",margin:2}}),Object(h.jsx)(z.a,{className:"icon-today",icon:D.a,size:"2x",style:{color:"#54857F",margin:2}})]})]})]}):Object(h.jsx)(b.a,{to:"/"})})),A=a(399);var E=Object(p.b)((function(e){return{pseudo:e.pseudo,token:e.token}}),(function(e){return{modifyPseudo:function(t){e({type:"modify-pseudo",newPseudo:t})}}}))((function(e){var t=Object(s.useState)(!1),a=Object(u.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(!1),o=Object(u.a)(r,2),p=o[0],x=o[1],m=Object(s.useState)(e.pseudo),O=Object(u.a)(m,2),f=O[0],y=O[1],k=Object(s.useState)(""),g=Object(u.a)(k,2),v=g[0],N=g[1],w=Object(s.useState)(""),C=Object(u.a)(w,2),S=C[0],F=C[1],z=Object(s.useState)(""),D=Object(u.a)(z,2),P=D[0],E=D[1],L=function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/modifications",{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"username=".concat(f,"&actualPassword=").concat(v,"&newPassword=").concat(S,"&confirmedPassword=").concat(P,"&token=").concat(e.token)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.token?Object(h.jsxs)("div",{children:[Object(h.jsx)(T,{}),Object(h.jsx)("img",{src:"./images/MoodScreen.png",className:"moodzLiane",alt:"mascotte paresseux t\xeate \xe0 l'envers"}),Object(h.jsx)("div",{className:"App",style:{backgroundColor:"#CEFFEB"},children:Object(h.jsxs)("div",{className:"Sign",style:{minWidth:300,minHeight:300,color:"white",marginTop:15},children:[Object(h.jsx)("h1",{style:{color:"#5b63ae"},children:"Ton profil"}),Object(h.jsxs)("p",{className:"profil",children:["pseudo : ",e.pseudo]}),Object(h.jsx)(d.a,{onClick:function(){return console.log("coucou"),void n(!c)},children:" Modifier"}),Object(h.jsx)(A.a,{title:"Modification du pseudo",visible:c,onOk:function(){e.modifyPseudo(f),n(!1),L()},onCancel:function(){n(!1)},children:Object(h.jsx)(j.a,{className:"Login-input",editable:!0,placeholder:"username",onChange:function(e){return y(e.target.value)},value:f})}),Object(h.jsx)("p",{className:"profil",children:"mot de passe : ******"}),Object(h.jsx)(d.a,{onClick:function(){return console.log("coucou passw"),void x(!p)},children:" Modifier"}),Object(h.jsxs)(A.a,{title:"Modification du mot de passe",visible:p,onOk:function(){x(!1),L()},onCancel:function(){x(!1)},children:[Object(h.jsx)(j.a,{className:"Login-input",editable:!0,placeholder:"actuel mot de passe",onChange:function(e){return N(e.target.value)},value:v}),Object(h.jsx)(j.a,{className:"Login-input",editable:!0,placeholder:"nouveau mot de passe",onChange:function(e){return F(e.target.value)},value:S}),Object(h.jsx)(j.a,{className:"Login-input",editable:!0,placeholder:"confirmation du nouveau mot de passe",onChange:function(e){return E(e.target.value)},value:P})]})]})})]}):Object(h.jsx)(b.a,{to:"/"})})),L=a(391),I=a(161);var B=Object(p.b)((function(e){return{pseudo:e.pseudo,token:e.token}}),null)((function(e){var t=Object(s.useState)(),a=Object(u.a)(t,2),c=a[0],n=a[1],r=e.token,o=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/save-mood",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tokenToBack:r,moodSelected:c})});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log("result",a),n(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return e.token?Object(h.jsxs)("div",{className:"App",style:{backgroundColor:"#CEFFEB"},children:[Object(h.jsx)(T,{}),Object(h.jsx)(L.a,{children:Object(h.jsxs)("div",{style:{textAlign:"left"},children:[Object(h.jsxs)("div",{contenteditable:!0,class:"bubble bubble-bottom-left",children:[c?1==c||2==c?Object(h.jsxs)("h2",{children:[Object(h.jsx)("br",{}),"Oh non :-("," "]}):3==c?Object(h.jsxs)("h2",{children:[Object(h.jsx)("br",{}),"La journ\xe9e n'est pas termin\xe9e !"]}):4==c||5==c?Object(h.jsxs)("h2",{children:[Object(h.jsx)("br",{}),"Youhouuuuu !!"]}):Object(h.jsx)("h2",{children:Object(h.jsx)("br",{})}):Object(h.jsxs)("h2",{children:[Object(h.jsx)("br",{}),"Bonjour ",e.pseudo,", ",Object(h.jsx)("br",{})," Comment te sens-tu aujourd'hui ?"]}),function(){if(c)return Object(h.jsxs)("h2",{children:["Va donc jeter un coup d'oeil \xe0 tes"," ",Object(h.jsx)(F.b,{style:{padding:0},to:"/year",children:"stats !"})]})}()]}),Object(h.jsx)("img",{src:"./images/moodz.png",className:"moodz",alt:"mascotte"}),Object(h.jsxs)("div",{className:"moodToSelect",children:[Object(h.jsx)(z.a,{className:"icon-today",icon:D.c,size:"4x",style:{color:"#CD6133",margin:10},onClick:function(){return n(1)}}),Object(h.jsx)(z.a,{className:"icon-today",icon:D.d,size:"4x",style:{color:"#F0A07E",margin:10},onClick:function(){return n(2)}}),Object(h.jsx)(z.a,{className:"icon-today",icon:D.b,size:"4x",style:{color:"#F0D231",margin:10},onClick:function(){return n(3)}}),Object(h.jsx)(z.a,{className:"icon-today",icon:D.e,size:"4x",style:{color:"#44B79D",margin:10},onClick:function(){return n(4)}}),Object(h.jsx)(z.a,{className:"icon-today",icon:D.a,size:"4x",style:{color:"#54857F",margin:10},onClick:function(){return n(5)}}),Object(h.jsx)(z.a,{className:"icon-today-thumb",icon:I.b,size:"4x",style:{color:"#5b63ae",margin:10},onClick:function(){return o()}})]})]})})]}):Object(h.jsx)(b.a,{to:"/"})})),M=a(392),_=a(393);var J=Object(p.b)((function(e){return{mood:e.mood,step:e.step,pseudo:e.pseudo,token:e.token}}),(function(e){return{changeStep:function(t){e({type:"change-step",newstep:t})}}}))((function(e){var t=Object(s.useState)((new Date).toISOString().substring(0,10)),a=Object(u.a)(t,2),c=a[0],n=(a[1],Object(s.useState)([])),r=Object(u.a)(n,2),o=r[0],j=r[1],d=Object(s.useState)((new Date).getFullYear()),p=Object(u.a)(d,2),x=p[0];p[1],Object(s.useEffect)((function(){var t,a=new Date(c),s=(t=a.getFullYear())%400===0||t%100!==0&&t%4===0;A(s),e.token&&E()}),[c]);for(var O=["J"],f=["F"],y=["M"],k=["A"],g=["M"],v=["J"],N=["J"],w=["A"],C=["S"],S=["O"],F=["N"],P=["D"],A=function(e){for(var t=0;t<12;t++){var a=Object(h.jsx)(z.a,{icon:I.a,size:"1x",style:{color:"rgba(28, 160, 129, 0.3)"}});switch(t){case 0:for(var s=0;s<31;s++)O.push(a);break;case 1:var c=29;c=e?28:29;for(var n=0;n<c;n++)f.push(a);break;case 2:for(var r=0;r<31;r++)y.push(a);break;case 3:for(var o=0;o<30;o++)k.push(a);break;case 4:for(var i=0;i<31;i++)g.push(a);break;case 5:for(var l=0;l<30;l++)v.push(a);break;case 6:for(var u=0;u<31;u++)N.push(a);break;case 7:for(var j=0;j<31;j++)w.push(a);break;case 8:for(var d=0;d<30;d++)C.push(a);break;case 9:for(var b=0;b<31;b++)S.push(a);break;case 10:for(var p=0;p<30;p++)F.push(a);break;case 11:for(var x=0;x<31;x++)P.push(a)}}},E=function(){var t=Object(l.a)(i.a.mark((function t(){var a,s,n,r,o,l,u,d,b;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/history",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"startdate=".concat(c,"&type=year&token=").concat(e.token)});case 2:return a=t.sent,t.next=5,a.json();case 5:s=t.sent,n=s.history,r=0;case 8:if(!(r<n.length)){t.next=44;break}o=new Date(n[r].date),l=parseInt(o.getMonth()),u=parseInt(o.getDate()),d=parseInt(n[r].mood_score),b=function(e){switch(e){case 1:return Object(h.jsx)(z.a,{icon:D.c,size:"1x",style:{color:"#CD6133"}});case 2:return Object(h.jsx)(z.a,{icon:D.d,size:"1x",style:{color:"#F0A07E"}});case 3:return Object(h.jsx)(z.a,{icon:D.b,size:"1x",style:{color:"#F0D231"}});case 4:return Object(h.jsx)(z.a,{icon:D.e,size:"1x",style:{color:"#44B79D"}});case 5:return Object(h.jsx)(z.a,{icon:D.a,size:"1x",style:{color:"#54857F"}})}},t.t0=l,t.next=0===t.t0?17:1===t.t0?19:2===t.t0?21:3===t.t0?23:4===t.t0?25:5===t.t0?27:6===t.t0?29:7===t.t0?31:8===t.t0?33:9===t.t0?35:10===t.t0?37:11===t.t0?39:41;break;case 17:return O[u]=b(d),t.abrupt("break",41);case 19:return f[u]=b(d),t.abrupt("break",41);case 21:return y[u]=b(d),t.abrupt("break",41);case 23:return k[u]=b(d),t.abrupt("break",41);case 25:return g[u]=b(d),t.abrupt("break",41);case 27:return v[u]=b(d),t.abrupt("break",41);case 29:return N[u]=b(d),t.abrupt("break",41);case 31:return w[u]=b(d),t.abrupt("break",41);case 33:return C[u]=b(d),t.abrupt("break",41);case 35:return S[u]=b(d),t.abrupt("break",41);case 37:return F[u]=b(d),t.abrupt("break",41);case 39:return P[u]=b(d),t.abrupt("break",41);case 41:r++,t.next=8;break;case 44:j([O,f,y,k,g,v,N,w,C,S,F,P]);case 45:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=[],B=1;B<32;B++)L.push(Object(h.jsx)(M.a,{className:"circle",children:B}));return L.unshift(Object(h.jsx)(M.a,{style:{color:"transparent"},children:" '' "})),e.token?Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(T,{}),Object(h.jsxs)("h1",{style:{margin:0},children:["Ton Moodzle ",x]}),Object(h.jsx)(m.a,{className:"card",style:{width:300,marginBottom:"1%",padding:5},children:Object(h.jsxs)(_.a,{className:"calendar",children:[Object(h.jsx)(M.a,{className:"circleDay",children:L}),Object(h.jsx)(M.a,{className:"Col",children:o[0]}),Object(h.jsx)(M.a,{className:"Col",children:o[1]}),Object(h.jsx)(M.a,{className:"Col",children:o[2]}),Object(h.jsx)(M.a,{className:"Col",children:o[3]}),Object(h.jsx)(M.a,{className:"Col",children:o[4]}),Object(h.jsx)(M.a,{className:"Col",children:o[5]}),Object(h.jsx)(M.a,{className:"Col",children:o[6]}),Object(h.jsx)(M.a,{className:"Col",children:o[7]}),Object(h.jsx)(M.a,{className:"Col",children:o[8]}),Object(h.jsx)(M.a,{className:"Col",children:o[9]}),Object(h.jsx)(M.a,{className:"Col",children:o[10]}),Object(h.jsx)(M.a,{className:"Col",children:o[11]})]})})]}):Object(h.jsx)(b.a,{to:"/"})})),R=a(394),U=a(395);var W=Object(p.b)((function(e){return{pseudo:e.pseudo,token:e.token}}),null)((function(e){var t=Object(s.useState)(["","",""]),a=Object(u.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)((new Date).toISOString().substring(0,10)),o=Object(u.a)(r,2),j=o[0],d=(o[1],Object(s.useState)([])),p=Object(u.a)(d,2),x=p[0],w=p[1],C=Object(s.useState)([""]),S=Object(u.a)(C,2),F=S[0],P=S[1],A=Object(s.useState)([0]),E=Object(u.a)(A,2),L=E[0],I=E[1],B=Object(s.useState)(1e3*Math.random()),M=Object(u.a)(B,2),_=(M[0],M[1]);Object(s.useEffect)((function(){e.token&&J(),_(1e3*Math.random())}),[j]);for(var J=function(){var t=Object(l.a)(i.a.mark((function t(){var a,s,r,o,l,u,d,b,p,h;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/history",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"startdate=".concat(j,"&type=month&token=").concat(e.token)});case 2:return a=t.sent,t.next=5,a.json();case 5:for(s=t.sent,r=s.history,console.log("data",c.length),o=[],l=[],u=0;u<r.length;u++)o.push(r[u].activity);for(d=0;d<o.length;d++)for(u=0;u<o[d].length;u++)l.push(o[d][u].name);for(b=l.reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{}),p=Object.keys(b).sort((function(e,t){return b[t]-b[e]})),h=0;h<3;h++)void 0===p[h]&&(p[h]="");n([p[0],p[1],p[2]]),W(r),Y(r);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(e){for(var t=0,a=0,s=0,c=0,n=0,r=0;r<e.length;r++)switch(e[r].mood_score){case 1:t+=1;break;case 2:a+=1;break;case 3:s+=1;break;case 4:c+=1;break;case 5:n+=1}w([{x:1,y:t},{x:2,y:a},{x:3,y:s},{x:4,y:c},{x:5,y:n}])},Y=function(e){var t,a=[],s=[],c=new Date(j),n=c.getFullYear(),r=c.getMonth(),o=(t=n)%400===0||t%100!==0&&t%4===0,i=1;switch(r){case 0:i=31;break;case 1:i=o?29:28;break;case 2:i=31;break;case 3:i=30;break;case 4:i=31;break;case 5:i=30;break;case 6:case 7:i=31;break;case 8:i=30;break;case 9:i=31;break;case 10:i=30;break;case 11:i=31}for(var l=1;l<=i;l++)l%5===0?a.push("".concat(l)):a.push("");var u=[],d=[];e.forEach((function(e){u.includes(parseInt(e.date.substring(8,10)))||r+1!==parseInt(e.date.substring(5,7))||(u.push(parseInt(e.date.substring(8,10))),d.push(e))}));for(var b=d.length,p=0,h=0;h<a.length;h++)p>=b?s.push(0):h+1===parseInt(d[p].date.substring(8,10))?(s.push(parseInt(d[p].mood_score)),p+=1):s.push(0);P(a),I(s)},V=[],H=0;H<F.length;H++)V.push({x:H,y:L[H]});return e.token?Object(h.jsxs)("div",{className:"App",style:{backgroundColor:"#CEFFEB"},children:[Object(h.jsx)(T,{}),Object(h.jsx)("h1",{children:"Les moodz mensuels"}),Object(h.jsxs)(m.a,{className:"card",children:[Object(h.jsx)(O.a,{className:"cardTitle",children:"Tes 3 activit\xe9s pr\xe9f\xe9r\xe9es"}),c[0]?Object(h.jsxs)("div",{className:"divPPodium",children:[Object(h.jsx)(R.a,{className:"pPodium",style:{color:"#5B63AE"},children:c[0]}),Object(h.jsxs)(R.a,{className:"pPodium",style:{color:"#44B79D"},children:[" ",c[1]]}),Object(h.jsx)(R.a,{className:"pPodium",style:{color:"#DF8F4A"},children:c[2]})]}):Object(h.jsx)("div",{className:"divPPodium",style:{maxWidth:"40%"},children:Object(h.jsxs)(R.a,{className:"pPodium",style:{color:"#5B63AE",fontSize:10},children:["Aucune activit\xe9 enregistr\xe9e ce mois-ci. ",Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),"Pense \xe0 t\xe9l\xe9charger notre appli pour y rem\xe9dier!"]})}),Object(h.jsx)(U.a,{src:"./images/podium-moodzle.png",className:"podium",alt:"mascotte paresseux accoud\xe9e sur un podium"})]}),Object(h.jsxs)(m.a,{className:"card",children:[Object(h.jsx)(O.a,{className:"cardTitle",children:"Variation de tes humeurs"}),Object(h.jsxs)(y.a,{className:"chart",children:[Object(h.jsx)(k.a,{style:{data:{stroke:"#F0A07E",strokeWidth:1,strokeLinecap:"round"},labels:{fontSize:0,fill:function(e){return 3===e.datum.x?"#000000":"#c43a31"}},parent:{border:"1px solid #ccc"}},activateData:!1,activateLabels:!1,data:V}),Object(h.jsx)(g.a,{style:{axis:{stroke:"transparent"},ticks:{stroke:"transparent"},tickLabels:{fill:"#F0A07E"}}})]})]}),Object(h.jsxs)(m.a,{className:"card",children:[Object(h.jsx)(O.a,{className:"cardTitle",children:"R\xe9partition de tes humeurs"}),Object(h.jsxs)(y.a,{className:"chart",children:[Object(h.jsx)(v.a,{cornerRadius:function(e){return 5*e.datum.y},data:x,colorScale:["#CD6133","#F0A07E","#F0D231","#44B79D","#54857F"],labelComponent:Object(h.jsx)(N.a,{style:{fill:"transparent"},angle:45})}),Object(h.jsx)(g.a,{style:{axis:{stroke:"transparent"},ticks:{stroke:"transparent"},tickLabels:{fill:"transparent"}}})]}),Object(h.jsxs)(f.a,{children:[Object(h.jsx)(z.a,{className:"icon-today",icon:D.c,size:"2x",style:{color:"#CD6133",margin:2}}),Object(h.jsx)(z.a,{className:"icon-today",icon:D.d,size:"2x",style:{color:"#F0A07E",margin:2}}),Object(h.jsx)(z.a,{className:"icon-today",icon:D.b,size:"2x",style:{color:"#F0D231",margin:2}}),Object(h.jsx)(z.a,{className:"icon-today",icon:D.e,size:"2x",style:{color:"#44B79D",margin:2}}),Object(h.jsx)(z.a,{className:"icon-today",icon:D.a,size:"2x",style:{color:"#54857F",margin:2}})]})]})]}):Object(h.jsx)(b.a,{to:"/"})})),Y=a(123),V=Object(Y.c)(Object(Y.b)({token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"addToken"===t.type?t.token:"empty-token"===t.type||"deconnexion"===t.type?"":e},pseudo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"savePseudo"===t.type?t.pseudo:"empty-pseudo"===t.type?(console.log("action.",e),""):"modify-pseudo"===t.type?t.newPseudo:e}}));var H=function(){return Object(h.jsx)(p.a,{store:V,children:Object(h.jsx)(F.a,{children:Object(h.jsxs)(b.d,{children:[Object(h.jsx)(b.b,{path:"/",exact:!0,component:x}),Object(h.jsx)(b.b,{path:"/today",component:B}),Object(h.jsx)(b.b,{path:"/year",component:J}),Object(h.jsx)(b.b,{path:"/month",component:W}),Object(h.jsx)(b.b,{path:"/week",component:P}),Object(h.jsx)(b.b,{path:"/settings",component:E})]})})})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,411)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(H,{})}),document.getElementById("root")),q()}},[[381,1,2]]]);
//# sourceMappingURL=main.a5687792.chunk.js.map